<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add color scheme meta tag -->
    <meta name="color-scheme" content="light dark">
    <title>Mass vs. Weight Adventure!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Apply Inter font globally */
        :root { /* Define light mode colors as CSS variables */
            --body-grad-start: #e0f2fe; /* Light blue */
            --body-grad-end: #f0e6ff; /* Light purple */
            --text-primary: #1f2937; /* Gray-800 */
            --text-secondary: #4b5563; /* Gray-600 */
            --text-link: #2563eb; /* Blue-600 */
            --card-bg: #ffffff;
            --section-blue-bg: #DBEAFE; /* blue-100 */
            --section-purple-bg: #F3E8FF; /* purple-100 */
            --section-gray-bg: #f3f4f6; /* gray-100 */
            --section-green-bg: #d1fae5; /* green-100 */
            --slider-track: #d1d5db; /* Gray-300 */
            --slider-thumb: #3b82f6; /* Blue-500 */
            --sim-obj-bg: #eff6ff; /* Blue-50 */
            --sim-atom-bg: #2563eb; /* Blue-600 */
            --sim-weight-bg: #f3e8ff; /* Purple-100 */
            --sim-arrow-color: #8b5cf6; /* Purple-500 */
            --result-box-blue-bg: #eff6ff; /* Blue-50 */
            --result-box-gray-bg: #f9fafb; /* Gray-50 */
            --result-box-blue-border: #60a5fa; /* Blue-400 */
            --result-box-gray-border: #9ca3af; /* Gray-400 */
            --formula-bg: #ffffff;
            --formula-border: #e5e7eb; /* Gray-200 */
            --yellow-info-bg: #fef3c7; /* Yellow-100 */
            --yellow-info-border: #fcd34d; /* Yellow-300 */
        }

        @media (prefers-color-scheme: dark) {
            :root { /* Define dark mode colors */
                --body-grad-start: #1f2937; /* Gray-800 */
                --body-grad-end: #111827; /* Gray-900 */
                --text-primary: #f3f4f6; /* Gray-100 */
                --text-secondary: #9ca3af; /* Gray-400 */
                --text-link: #60a5fa; /* Blue-400 */
                --card-bg: #374151; /* Gray-700 */
                --section-blue-bg: #1e3a8a; /* blue-900 */
                --section-purple-bg: #4c1d95; /* purple-800 */
                --section-gray-bg: #4b5563; /* gray-600 */
                --section-green-bg: #19c295; /* green-900 */
                --slider-track: #4b5563; /* Gray-600 */
                --slider-thumb: #60a5fa; /* Blue-400 */
                --sim-obj-bg: #1e40af; /* Blue-800 */
                --sim-atom-bg: #93c5fd; /* Blue-300 */
                --sim-weight-bg: #581c87; /* Purple-900 */
                --sim-arrow-color: #c084fc; /* Purple-400 */
                --result-box-blue-bg: #1e3a8a; /* Blue-900 */
                --result-box-gray-bg: #4b5563; /* Gray-600 */
                --result-box-blue-border: #3b82f6; /* Blue-500 */
                --result-box-gray-border: #6b7280; /* Gray-500 */
                --formula-bg: #4b5563; /* Gray-600 */
                --formula-border: #6b7280; /* Gray-500 */
                --yellow-info-bg: #78350f; /* Amber-900 */
                --yellow-info-border: #f59e0b; /* Amber-500 */
            }
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-primary);
            background: linear-gradient(to right, var(--body-grad-start), var(--body-grad-end));
        }
        .result-box {
            padding: 1rem;
            margin-top: 0.5rem;
            border-radius: 0.5rem; /* Rounded corners */
            text-align: center;
            min-height: 100px; /* Ensure consistent height */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px solid; /* Color set below using vars */
            background-color: var(--result-bg); /* Color set below using vars */
        }
        #earthWeight {
            border-color: var(--result-box-blue-border);
            background-color: var(--result-box-blue-bg);
        }
        #moonWeight {
            border-color: var(--result-box-gray-border);
            background-color: var(--result-box-gray-bg);
        }

        input[type="range"] {
            -webkit-appearance: none; appearance: none;
            width: 100%; height: 10px; background: var(--slider-track);
            outline: none; opacity: 0.7;
            -webkit-transition: .2s; transition: opacity .2s;
            border-radius: 5px; cursor: pointer;
        }
        input[type="range"]:hover { opacity: 1; }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 25px; height: 25px; background: var(--slider-thumb);
            cursor: pointer; border-radius: 50%;
        }
        input[type="range"]::-moz-range-thumb {
            width: 25px; height: 25px; background: var(--slider-thumb);
            cursor: pointer; border-radius: 50%; border: none;
        }

        /* Styles for the Mass Simulation Object (reusable) */
        .sim-object-container {
            position: relative;
            /* border: 3px solid; Color set dynamically by TW classes */
            border-radius: 50%;
            margin: 1rem auto;
            background-color: var(--sim-obj-bg);
            overflow: hidden;
            transition: width 0.3s ease-in-out, height 0.3s ease-in-out, background-color 0.3s ease;
        }
        .atom {
            position: absolute;
            background-color: var(--sim-atom-bg);
            border-radius: 50%;
            opacity: 0.8;
            transition: background-color 0.3s ease;
        }

        /* Styles for Weight Simulation */
        .weight-sim-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: var(--sim-weight-bg);
            border-radius: 0.5rem;
            min-height: 350px; /* Ensure enough space */
            transition: background-color 0.3s ease;
        }
        #gravityArrowsContainer {
            width: 100%;
            height: 80px;
            position: relative;
            margin-top: -10px;
            margin-bottom: 5px;
            display: flex;
            justify-content: center;
            gap: 8px;
            align-items: flex-end;
        }
        .gravity-arrow {
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 12px solid var(--sim-arrow-color); /* Use variable */
            transition: border-top-width 0.2s ease-out, border-top-color 0.3s ease;
            position: relative;
        }
        .gravity-arrow::before {
            content: '';
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 25px;
            background-color: var(--sim-arrow-color); /* Use variable */
            transition: bottom 0.2s ease-out, background-color 0.3s ease;
        }

        #earthGraphic {
             width: 80px;
             height: 80px;
             border-radius: 50%;
             margin-top: 0px;
             /* Add subtle border for dark mode contrast if needed */
             @media (prefers-color-scheme: dark) {
                border: 1px solid var(--text-secondary);
             }
        }
        /* Formula Box Styles */
        .formula-box {
             background-color: var(--formula-bg);
             border: 1px solid var(--formula-border);
             transition: background-color 0.3s ease, border-color 0.3s ease;
        }
         .info-box {
             background-color: var(--yellow-info-bg);
             border-color: var(--yellow-info-border);
             transition: background-color 0.3s ease, border-color 0.3s ease;
         }

    </style>
</head>
<!-- Removed gradient from body class, handled by CSS variables now -->
<body class="text-gray-800 dark:text-gray-100 p-4 md:p-8" style="color: var(--text-primary); background: linear-gradient(to right, var(--body-grad-start), var(--body-grad-end));">

    <!-- Added dark mode background/shadow -->
    <div class="max-w-4xl mx-auto bg-white dark:bg-gray-700 p-6 md:p-10 rounded-lg shadow-xl dark:shadow-2xl">

        <!-- Added dark mode text color -->
        <h1 class="text-3xl md:text-4xl font-bold text-center text-blue-600 dark:text-blue-400 mb-6">üöÄ Mass vs. Weight Adventure! ‚öñÔ∏è</h1>

        <!-- Added dark mode bg/text colors -->
        <section class="mb-8 p-4 bg-blue-100 dark:bg-blue-900 rounded-lg shadow">
            <h2 class="text-2xl font-semibold text-blue-700 dark:text-blue-300 mb-3">What is Mass? ü§î</h2>
            <p class="text-lg text-gray-700 dark:text-gray-300">
                Imagine everything is made of tiny building blocks! <span class="font-bold">Mass</span> is how much "stuff" (how many blocks) are inside an object. It's measured in kilograms (kg).
            </p>
            <!-- Added dark mode bg/text colors -->
            <div class="mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-inner text-center">
                <h3 class="text-xl font-medium text-blue-600 dark:text-blue-400 mb-3">Visualizing Mass</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Each blue dot represents 1 kg of "stuff". Watch the object grow!</p>
                <!-- Updated border color for dark mode -->
                <div id="massSimObjectContainer" class="sim-object-container border-blue-400 dark:border-blue-500 border-3">
                    </div>
                <label for="atomSlider" class="block text-lg font-medium mt-4 mb-2 text-gray-700 dark:text-gray-300">
                    Amount of Stuff: <span id="atomCountDisplay" class="font-bold text-blue-600 dark:text-blue-400">10</span> particles
                </label>
                <input type="range" id="atomSlider" name="atomSlider" min="1" max="50" value="10" class="w-full max-w-xs mx-auto">
                <p class="text-lg font-semibold mt-3 text-gray-700 dark:text-gray-300">
                    Total Mass: <span id="massDisplay" class="text-green-700 dark:text-green-400">10</span> kg
                </p>
            </div>
             <!-- Added dark mode text color -->
            <p class="text-lg mt-6 text-gray-700 dark:text-gray-300">
                Notice that the mass (the amount of stuff) stays the <span class="font-bold text-green-600 dark:text-green-400">SAME</span> no matter where you are!
            </p>
        </section>

        <!-- Added dark mode bg/text colors -->
        <section class="mb-8 p-4 bg-purple-100 dark:bg-purple-900 rounded-lg shadow">
            <h2 class="text-2xl font-semibold text-purple-700 dark:text-purple-300 mb-3">What is Weight? üëá</h2>
            <p class="text-lg text-gray-700 dark:text-gray-300">
                <span class="font-bold">Weight</span> is the <span class="font-bold">force</span> of gravity pulling an object down. Think of it like how hard a planet or moon is pulling on you. It's measured in Newtons (N).
            </p>
            <!-- Background handled by custom CSS var -->
            <div class="weight-sim-area">
                 <h3 class="text-xl font-medium text-purple-600 dark:text-purple-400 mb-3">Visualizing Weight (Gravity's Pull)</h3>
                 <p class="text-sm text-gray-600 dark:text-gray-400 mb-2 text-center">The arrows show gravity pulling the object down.<br>More mass means a stronger pull (more/longer arrows)!</p>
                 <!-- Updated border color for dark mode -->
                 <div id="weightSimObjectContainer" class="sim-object-container border-purple-400 dark:border-purple-500 border-3">
                     </div>
                 <div id="gravityArrowsContainer">
                     </div>
                 <img id="earthGraphic" src="https://placehold.co/100x100/3b82f6/ffffff?text=Earth" alt="Earth" onerror="this.src='https://placehold.co/100x100/cccccc/ffffff?text=Error'">
            </div>
             <!-- Added dark mode text color -->
             <p class="text-lg mt-4 text-gray-700 dark:text-gray-300">
                Because gravity is different in different places (like Earth vs. Moon), your weight <span class="font-bold text-red-600 dark:text-red-400">CHANGES</span> depending on where you are!
            </p>
        </section>

        <!-- Added dark mode bg/text colors -->
        <section class="mb-8 p-6 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-inner">
            <h2 class="text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-4 text-center">Weight Changes with Location! ‚ú®</h2>
            <p class="text-center text-sm text-gray-600 dark:text-gray-400 mb-4">Use this slider to change the mass. Watch how the Weight values AND the gravity pull simulation (above) change!</p>
            <div class="mb-6 text-center">
                 <!-- Added dark mode text color -->
                <label for="massInputWeight" class="block text-lg font-medium mb-2 text-gray-700 dark:text-gray-300">Set the Mass (in kg): <span id="massValueWeight" class="font-bold text-blue-600 dark:text-blue-400">50</span> kg</label>
                <input type="range" id="massInputWeight" name="massInputWeight" min="1" max="200" value="50" class="w-full max-w-sm mx-auto">
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
                 <!-- Added dark mode bg/text/border colors -->
                <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg shadow">
                    <h3 class="text-xl font-semibold text-blue-800 dark:text-blue-300 mb-3">üåç On Earth</h3>
                    <img src="https://placehold.co/150x150/3b82f6/ffffff?text=Earth" alt="Planet Earth" class="w-24 h-24 md:w-32 md:h-32 mx-auto mb-4 rounded-full border-4 border-blue-300 dark:border-blue-500" onerror="this.src='https://placehold.co/150x150/cccccc/ffffff?text=Image+Error'">
                    <p class="mb-2 text-sm text-gray-600 dark:text-gray-400">Gravity (g) ‚âà 9.8 m/s¬≤</p>
                    <!-- Background/Border handled by custom CSS var -->
                    <div id="earthWeight" class="result-box">
                         <!-- Added dark mode text color -->
                        <span class="text-lg font-bold text-blue-700 dark:text-blue-300">Weight: ??? N</span>
                    </div>
                </div>
                 <!-- Added dark mode bg/text/border colors -->
                <div class="text-center p-4 bg-white dark:bg-gray-700 rounded-lg shadow">
                    <h3 class="text-xl font-semibold text-gray-600 dark:text-gray-400 mb-3">üåï On the Moon</h3>
                     <img src="https://placehold.co/150x150/a0aec0/ffffff?text=Moon" alt="The Moon" class="w-24 h-24 md:w-32 md:h-32 mx-auto mb-4 rounded-full border-4 border-gray-300 dark:border-gray-500" onerror="this.src='https://placehold.co/150x150/cccccc/ffffff?text=Image+Error'">
                    <p class="mb-2 text-sm text-gray-600 dark:text-gray-400">Gravity (g) ‚âà 1.62 m/s¬≤</p>
                    <!-- Background/Border handled by custom CSS var -->
                    <div id="moonWeight" class="result-box">
                         <!-- Added dark mode text color -->
                         <span class="text-lg font-bold text-gray-700 dark:text-gray-300">Weight: ??? N</span>
                    </div>
                </div>
            </div>
             <!-- Added dark mode text color -->
            <p class="text-center mt-6 text-lg text-purple-700 dark:text-purple-400 font-medium">Notice how the <span class="font-bold">Mass</span> stays the same, but the <span class="font-bold">Weight</span> changes!</p>
        </section>

         <!-- Added dark mode bg/text colors -->
         <section class="p-4 bg-green-100 dark:bg-green-900 rounded-lg shadow">
            <h2 class="text-2xl font-semibold text-green-700 dark:text-green-300 mb-3">Weight is a Force! üí™</h2>
            <!-- Added dark mode text colors -->
            <div class="space-y-4 text-lg text-gray-700 dark:text-gray-300">
                 <p>Remember the formulas we saw?</p>
                 <!-- Background/Border handled by custom CSS var -->
                 <div class="text-center p-3 rounded shadow font-mono text-xl formula-box">
                    Weight = Mass √ó Gravity <br> <span class="font-bold">W = m √ó g</span>
                 </div>
                 <!-- Background/Border handled by custom CSS var -->
                 <div class="text-center p-3 rounded shadow font-mono text-xl formula-box">
                    Force = Mass √ó Acceleration <br> <span class="font-bold">F = m √ó a</span>
                 </div>
                 <p>Since gravity (<span class="font-mono font-semibold">g</span>) is a specific acceleration (<span class="font-mono font-semibold">a</span>), Weight is a specific Force!</p>
                  <!-- Background/Border handled by custom CSS var -->
                 <div class="text-center p-4 border rounded shadow font-mono text-xl info-box">
                    <span class="font-bold">Weight (m √ó g) = Force (m √ó a)</span><br>
                     <!-- Added dark mode text color -->
                    <span class="text-base font-sans text-gray-700 dark:text-gray-300 mt-1 block">(Where 'g' is gravity's acceleration)</span>
                 </div>
                  <!-- Added dark mode text color -->
                 <p class="font-semibold text-green-800 dark:text-green-300 text-center mt-4">
                    Weight is the gravitational <span class="font-bold">Force</span> on an object. That's why both are measured in <span class="font-bold text-xl">Newtons (N)</span>!
                 </p>
            </div>
        </section>
    </div>

    <script>
        // --- Simulation Object Parameters ---
        const atomSize = 15; // Size of one atom (px)
        const growthFactor = 4; // How much container diameter increases per extra atom
        const maxVisualAtoms = 50; // Max atoms to *show* visually
        const maxContainerSize = 200; // Max container size (px)
        const borderBuffer = 4; // Small buffer for positioning inside border

        // --- Helper Function to Draw Simulation Object ---
        // Draws the object (container with atoms) based on a count
        function drawSimObject(targetContainer, visualAtomCount) {
            // Clamp visual atom count
            const clampedAtomCount = Math.max(1, Math.min(visualAtomCount, maxVisualAtoms));

            // Calculate container size based on clamped count
            let newDiameter = atomSize + (clampedAtomCount - 1) * growthFactor;
            newDiameter = Math.max(atomSize, newDiameter); // Min size
            newDiameter = Math.min(maxContainerSize, newDiameter); // Max size

            // Apply size to the container element
            targetContainer.style.width = `${newDiameter}px`;
            targetContainer.style.height = `${newDiameter}px`;

            // Clear previous atoms and draw new ones
            targetContainer.innerHTML = '';
            for (let i = 0; i < clampedAtomCount; i++) {
                const atom = document.createElement('div');
                atom.classList.add('atom');
                atom.style.width = `${atomSize}px`;
                atom.style.height = `${atomSize}px`;

                const maxPos = newDiameter - atomSize - borderBuffer;
                const safeMaxPos = Math.max(0, maxPos);
                const randomTop = Math.random() * safeMaxPos + (borderBuffer / 2);
                const randomLeft = Math.random() * safeMaxPos + (borderBuffer / 2);
                atom.style.top = `${randomTop}px`;
                atom.style.left = `${randomLeft}px`;
                targetContainer.appendChild(atom);
            }
        }

        // --- Mass Simulation Script ---
        const atomSlider = document.getElementById('atomSlider');
        const atomCountDisplay = document.getElementById('atomCountDisplay');
        const massDisplay = document.getElementById('massDisplay');
        const massSimObjectContainer = document.getElementById('massSimObjectContainer');

        function updateMassSimulation() {
            const atomCount = parseInt(atomSlider.value);
            atomCountDisplay.textContent = atomCount;
            massDisplay.textContent = atomCount; // 1 particle = 1 kg in this sim
            // Draw the object in the mass simulation area
            drawSimObject(massSimObjectContainer, atomCount);
        }
        atomSlider.addEventListener('input', updateMassSimulation);


        // --- Weight Simulation & Calculation Script ---
        const massInputWeight = document.getElementById('massInputWeight');
        const massValueWeightDisplay = document.getElementById('massValueWeight');
        const earthWeightDisplay = document.getElementById('earthWeight').querySelector('span');
        const moonWeightDisplay = document.getElementById('moonWeight').querySelector('span');
        // Elements for the weight visualization
        const weightSimObjectContainer = document.getElementById('weightSimObjectContainer');
        const gravityArrowsContainer = document.getElementById('gravityArrowsContainer');

        const gravityEarth = 9.81; // m/s^2
        const gravityMoon = 1.62; // m/s^2
        const maxWeightSimMass = 200; // Corresponds to slider max

        // Function to update gravity arrows visualization
        function updateGravityArrows(mass) {
            gravityArrowsContainer.innerHTML = ''; // Clear previous arrows
            // Calculate number of arrows based on mass (e.g., 1 arrow per 20kg, min 1, max 10)
            const numArrows = Math.max(1, Math.min(10, Math.ceil(mass / (maxWeightSimMass / 10))));
            // Calculate arrow length based on mass (longer for more mass)
            const baseLength = 8; // Min arrow length (px) - This is now the arrowhead height
            const maxLengthAdd = 12; // Max additional height for arrowhead
            const arrowHeadHeight = baseLength + (mass / maxWeightSimMass) * maxLengthAdd;

            for (let i = 0; i < numArrows; i++) {
                const arrow = document.createElement('div');
                arrow.classList.add('gravity-arrow');
                // Set the length dynamically via border-top-width (arrowhead height)
                arrow.style.borderTopWidth = `${arrowHeadHeight}px`;
                gravityArrowsContainer.appendChild(arrow);
            }
        }

        // Function to update weight calculation AND the weight simulation visuals
        function updateWeightCalculationAndSim() {
            const mass = parseFloat(massInputWeight.value);

            // 1. Update Weight Calculation Display
            const weightEarth = mass * gravityEarth;
            const weightMoon = mass * gravityMoon;
            massValueWeightDisplay.textContent = mass;
            earthWeightDisplay.textContent = `Weight: ${weightEarth.toFixed(1)} N`;
            moonWeightDisplay.textContent = `Weight: ${weightMoon.toFixed(1)} N`;

            // 2. Update Weight Simulation Visuals
            // Map mass (1-200kg) to visual atoms (1-50) for the object drawing
            const visualAtomsForWeightSim = Math.ceil((mass / maxWeightSimMass) * maxVisualAtoms);
            drawSimObject(weightSimObjectContainer, visualAtomsForWeightSim);
            updateGravityArrows(mass); // Update the arrows based on the actual mass
        }
        massInputWeight.addEventListener('input', updateWeightCalculationAndSim);


        // --- Initial Calculations on Page Load ---
        window.onload = () => {
            updateMassSimulation(); // Initialize mass sim visuals
            updateWeightCalculationAndSim(); // Initialize weight calc display AND weight sim visuals
        };
    </script>

</body>
</html>