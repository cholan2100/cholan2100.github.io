<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Frames Demo - FPS Explained</title>
    <style>
        /* Basic Styling */
        body {
            font-family: sans-serif;
            line-height: 1.6;
            background-color: #f0f0f0;
            color: #333;
            margin: 0;
            padding: 20px 20px 40px 20px; /* Added more bottom padding */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1, h2 {
            text-align: center;
            color: #1a1a1a;
        }

        p, .explanation-section { /* Apply common paragraph styling to new section */
            max-width: 700px;
            text-align: center;
            margin-bottom: 20px;
        }

        /* Simulation Container */
        .simulation-container {
            background-color: #d3d3d3;
            border: 2px solid #555;
            padding: 30px 0;
            margin-top: 30px;
            width: 90%;
            max-width: 800px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            height: 210px;
            box-sizing: border-box;
        }

        /* Viewer (Static Window) */
        .viewer {
            position: absolute;
            top: 45px; /* 30px padding + 15px sprocket */
            left: 50%; transform: translateX(-50%);
            width: 120px; height: 120px;
            background-color: rgba(255, 255, 255, 0);
            border: 5px solid #e60000; box-shadow: 0 0 15px rgba(230, 0, 0, 0.5);
            z-index: 10; pointer-events: none; box-sizing: border-box;
        }

        /* Film Strip Wrapper */
        .film-strip-wrapper {
            width: 100%; height: 150px; position: absolute;
            top: 30px; left: 0; overflow: hidden;
        }

        /* Film Strip Styling */
        .film-strip {
            display: flex; background-color: #4a4a4a; height: 100%;
            position: absolute; left: 0; top: 0;
            transition: transform 0.3s steps(1, end); /* Duration controls pause */
        }

        /* Individual Frame Styling */
        .frame {
            width: 120px; height: 150px; margin: 0 5px; background-color: #fdfdfd; border: 1px solid #333;
            flex-shrink: 0; display: flex; flex-direction: column; box-sizing: border-box;
        }

        /* Sprocket Holes Styling */
        .sprocket-holes {
            height: 15px; background-color: #4a4a4a; display: flex; justify-content: space-around;
            align-items: center; padding: 0 5px; flex-shrink: 0;
        }
        .sprocket-hole {
            width: 8px; height: 8px; background-color: #d3d3d3; border: 1px solid #333; box-sizing: border-box;
        }

        /* Image Area within Frame */
        .image-area {
            height: 120px; display: flex; justify-content: center; align-items: center;
            overflow: hidden; background-color: #fff; box-sizing: border-box;
        }

        /* Stick Figure SVG Styling */
        .stick-figure {
            width: 100%; height: 100%; stroke: #000; stroke-width: 4; stroke-linecap: round; fill: none;
        }

        /* Frame Index Display Styling */
        #frame-index-display {
            margin-top: 15px; font-size: 1.2em; font-weight: bold;
            color: #333; text-align: center; min-height: 1.5em;
        }

        /* Hide template SVGs */
        .svg-templates { display: none; }

        /* Styling for the new explanation section */
        .explanation-section h3 {
             margin-top: 30px;
             margin-bottom: 10px;
             color: #1a1a1a;
        }
        .explanation-section p {
            text-align: left; /* Align paragraphs left within the centered block */
            margin-bottom: 15px;
        }
         .explanation-section strong {
            color: #0056b3; /* Highlight key terms */
         }

    </style>
</head>
<body>

    <div class="explanation-section">
        <h1>Video Frames: The Illusion of Motion</h1>
    <p>
        Video is a <strong>Motion Picture</strong>. Video works by showing a sequence of still images (frames) rapidly. Our brain perceives this as continuous motion.
        This simulation demonstrates how a film strip moves frame-by-frame through a viewer (like a projector gate).
    </p>

    <h2>Simulation: Film Strip Projector</h2>
    <p>
        The film strip below contains frames of a walking stick figure. It advances one frame at a time.
        The central viewer (red outline) simply shows whichever part of the film strip is currently behind it. Notice how the sequence creates the walking motion.
    </p>
    </div>

    <div class="simulation-container">
        <!-- Static viewer window -->
        <div class="viewer"></div>
        <!-- Wrapper for moving film strip -->
        <div class="film-strip-wrapper">
            <div class="film-strip" id="film-strip-reel">
                <!-- Frames added by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Frame Index Display -->
    <div id="frame-index-display">Frame: -</div>

    <p style="margin-top: 5px;">
        The strip pauses briefly on each frame, then instantly jumps to the next. The viewer doesn't change; it's just a window onto the moving strip. The speed of these jumps determines the 'frame rate'.
    </p>

    <!-- Explanation Section === -->
    <div class="explanation-section">
        <h3>Frame Rate (FPS) and Perception</h3>
        <p>
            The speed at which frames are displayed is called the <strong>Frame Rate</strong>, measured in <strong>Frames Per Second (FPS)</strong>.
            If the simulation above advanced faster, its FPS would be higher.
        </p>
        <p>
            Historically, film used <strong>24 FPS</strong>, while standard television used around <strong>25-30 FPS</strong>. This rate, combined with motion blur (where fast-moving objects appear blurred in individual frames), is generally sufficient for our brains to perceive smooth motion in typical video content. Our eyes don't see discrete frames but rather blend them together.
        </p>
        <p>
            However, higher frame rates can lead to a perception of even smoother and more realistic motion. This is particularly noticeable in applications requiring fast reactions or detailed observation of movement, such as video games. Refresh rates of <strong>60 FPS</strong> have become common in gaming and on modern displays, providing a much more fluid visual experience and improved responsiveness. Some systems even push for <strong>120 FPS</strong> or higher for maximum smoothness.
        </p>
         <p>
            While humans can perceive differences at rates well above 30 FPS, the perceived benefit might diminish at very high rates, and the "best" rate often depends on the content and individual perception.
        </p>
    </div>


    <!-- Hidden SVG Templates -->
    <div class="svg-templates">
        <svg id="walk-pose1" class="stick-figure" viewBox="0 0 100 100"> <title>Walk Pose 1</title> <circle cx="50" cy="20" r="10"/> <line x1="50" y1="30" x2="50" y2="60"/> <line x1="50" y1="40" x2="65" y2="55"/> <line x1="50" y1="40" x2="35" y2="55"/> <line x1="50" y1="60" x2="40" y2="90"/> <line x1="50" y1="60" x2="60" y2="90"/> </svg>
        <svg id="walk-pose2" class="stick-figure" viewBox="0 0 100 100"> <title>Walk Pose 2</title> <circle cx="50" cy="20" r="10"/> <line x1="50" y1="30" x2="50" y2="60"/> <line x1="50" y1="40" x2="55" y2="60"/> <line x1="50" y1="40" x2="45" y2="60"/> <line x1="50" y1="60" x2="35" y2="85"/> <line x1="50" y1="60" x2="50" y2="90"/> </svg>
        <svg id="walk-pose3" class="stick-figure" viewBox="0 0 100 100"> <title>Walk Pose 3</title> <circle cx="50" cy="20" r="10"/> <line x1="50" y1="30" x2="50" y2="60"/> <line x1="50" y1="40" x2="35" y2="55"/> <line x1="50" y1="40" x2="65" y2="55"/> <line x1="50" y1="60" x2="60" y2="90"/> <line x1="50" y1="60" x2="40" y2="90"/> </svg>
        <svg id="walk-pose4" class="stick-figure" viewBox="0 0 100 100"> <title>Walk Pose 4</title> <circle cx="50" cy="20" r="10"/> <line x1="50" y1="30" x2="50" y2="60"/> <line x1="50" y1="40" x2="45" y2="60"/> <line x1="50" y1="40" x2="55" y2="60"/> <line x1="50" y1="60" x2="65" y2="85"/> <line x1="50" y1="60" x2="50" y2="90"/> </svg>
    </div>

    <script>
        // JavaScript remains the same as the previous version
        document.addEventListener('DOMContentLoaded', () => {
            const filmStripReel = document.getElementById('film-strip-reel');
            const filmStripWrapper = document.querySelector('.film-strip-wrapper');
            const svgTemplates = document.querySelectorAll('.svg-templates svg');
            const frameIndexDisplay = document.getElementById('frame-index-display');

            const numUniquePoses = svgTemplates.length;
            const totalCycles = 6;
            const totalFrames = numUniquePoses * totalCycles;

            const frameContentWidth = 120;
            const frameMargin = 5;
            const frameTotalWidth = frameContentWidth + (frameMargin * 2);

            let currentFrameAbsoluteIndex = 0;
            const frameDuration = 300; // ms - Corresponds to ~3.3 FPS

            // --- Populate Film Strip ---
            for (let i = 0; i < totalFrames; i++) {
                const frame = document.createElement('div'); frame.classList.add('frame');
                const topSprockets = document.createElement('div'); topSprockets.classList.add('sprocket-holes');
                for (let j = 0; j < 5; j++) { topSprockets.appendChild(document.createElement('div')).classList.add('sprocket-hole'); }
                const imageArea = document.createElement('div'); imageArea.classList.add('image-area');
                const poseIndex = i % numUniquePoses;
                const svgClone = svgTemplates[poseIndex].cloneNode(true); imageArea.appendChild(svgClone);
                const bottomSprockets = topSprockets.cloneNode(true);
                frame.appendChild(topSprockets); frame.appendChild(imageArea); frame.appendChild(bottomSprockets);
                filmStripReel.appendChild(frame);
            }
            filmStripReel.style.width = `${totalFrames * frameTotalWidth}px`;

            // --- Update Frame Index Display Function ---
            function updateDisplay(centeredFrameIndex) {
                const poseIndexToShow = (centeredFrameIndex % numUniquePoses) + 1;
                frameIndexDisplay.textContent = `Frame: ${poseIndexToShow}`;
            }


            // --- Animation Logic ---
             function advanceFrame() {
                currentFrameAbsoluteIndex++;
                let frameIndexToCenter = currentFrameAbsoluteIndex % totalFrames;
                const wrapperWidth = filmStripWrapper.offsetWidth;
                const targetScrollX = (wrapperWidth / 2) - (frameIndexToCenter * frameTotalWidth) - (frameTotalWidth / 2);
                filmStripReel.style.transform = `translateX(${targetScrollX}px)`;
                updateDisplay(frameIndexToCenter);

                // --- Loop Handling ---
                if (currentFrameAbsoluteIndex >= totalFrames) {
                    setTimeout(() => {
                        currentFrameAbsoluteIndex = 0;
                        frameIndexToCenter = 0;
                        filmStripReel.style.transition = 'none';
                        const resetScrollX = (wrapperWidth / 2) - (frameTotalWidth / 2);
                        filmStripReel.style.transform = `translateX(${resetScrollX}px)`;
                        updateDisplay(frameIndexToCenter);
                        void filmStripReel.offsetWidth;
                        filmStripReel.style.transition = `transform ${frameDuration / 1000}s steps(1, end)`;
                    }, frameDuration);
                }
             }

            // --- Initial Positioning ---
            function setInitialPosition() {
                currentFrameAbsoluteIndex = 0;
                const wrapperWidth = filmStripWrapper.offsetWidth;
                const initialScrollX = (wrapperWidth / 2) - (frameTotalWidth / 2);
                filmStripReel.style.transition = 'none';
                filmStripReel.style.transform = `translateX(${initialScrollX}px)`;
                void filmStripReel.offsetWidth;
                updateDisplay(currentFrameAbsoluteIndex);
                filmStripReel.style.transition = `transform ${frameDuration / 1000}s steps(1, end)`;
                if (window.filmStripIntervalId) { clearInterval(window.filmStripIntervalId); }
                window.filmStripIntervalId = setInterval(advanceFrame, frameDuration);
            }

            // Set initial state
            setTimeout(setInitialPosition, 50);

            // Re-run setup on resize
            window.addEventListener('resize', () => {
                if (window.filmStripIntervalId) { clearInterval(window.filmStripIntervalId); }
                 setTimeout(setInitialPosition, 100);
            });
        });
    </script>

</body>
</html>